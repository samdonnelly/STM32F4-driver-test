ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"uart_comm.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.uart2_init,"ax",%progbits
  20              		.align	1
  21              		.global	uart2_init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	uart2_init:
  27              	.LFB130:
  28              		.file 1 "../STM32F4-driver-library/sources/uart_comm.c"
   1:../STM32F4-driver-library/sources/uart_comm.c **** /**
   2:../STM32F4-driver-library/sources/uart_comm.c ****  * @file uart_comm.c
   3:../STM32F4-driver-library/sources/uart_comm.c ****  * 
   4:../STM32F4-driver-library/sources/uart_comm.c ****  * @author Sam Donnelly (samueldonnelly11@gmail.com)
   5:../STM32F4-driver-library/sources/uart_comm.c ****  * 
   6:../STM32F4-driver-library/sources/uart_comm.c ****  * @brief Driver for UART communication 
   7:../STM32F4-driver-library/sources/uart_comm.c ****  * 
   8:../STM32F4-driver-library/sources/uart_comm.c ****  * @version 0.1
   9:../STM32F4-driver-library/sources/uart_comm.c ****  * @date 2022-02-12
  10:../STM32F4-driver-library/sources/uart_comm.c ****  * 
  11:../STM32F4-driver-library/sources/uart_comm.c ****  * @copyright Copyright (c) 2022
  12:../STM32F4-driver-library/sources/uart_comm.c ****  * 
  13:../STM32F4-driver-library/sources/uart_comm.c ****  */
  14:../STM32F4-driver-library/sources/uart_comm.c **** 
  15:../STM32F4-driver-library/sources/uart_comm.c **** //=======================================================================================
  16:../STM32F4-driver-library/sources/uart_comm.c **** // Includes 
  17:../STM32F4-driver-library/sources/uart_comm.c **** 
  18:../STM32F4-driver-library/sources/uart_comm.c **** #include "uart_comm.h"
  19:../STM32F4-driver-library/sources/uart_comm.c **** 
  20:../STM32F4-driver-library/sources/uart_comm.c **** //=======================================================================================
  21:../STM32F4-driver-library/sources/uart_comm.c **** 
  22:../STM32F4-driver-library/sources/uart_comm.c **** 
  23:../STM32F4-driver-library/sources/uart_comm.c **** // UART2 setup 
  24:../STM32F4-driver-library/sources/uart_comm.c **** // Pins: PA2, PA3
  25:../STM32F4-driver-library/sources/uart_comm.c **** void uart2_init(void)
  26:../STM32F4-driver-library/sources/uart_comm.c **** {
  29              		.loc 1 26 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 2


  33              		@ link register save eliminated.
  27:../STM32F4-driver-library/sources/uart_comm.c ****     // Pin Setup 
  28:../STM32F4-driver-library/sources/uart_comm.c **** 
  29:../STM32F4-driver-library/sources/uart_comm.c ****     // Enable UART2 Clock - RCC_APB1 register, bit 17
  30:../STM32F4-driver-library/sources/uart_comm.c ****     RCC->APB1ENR |= (SET_BIT << SHIFT_17);
  34              		.loc 1 30 5 view .LVU1
  35              		.loc 1 30 18 is_stmt 0 view .LVU2
  36 0000 234B     		ldr	r3, .L3
  37 0002 1A6C     		ldr	r2, [r3, #64]
  38 0004 42F40032 		orr	r2, r2, #131072
  39 0008 1A64     		str	r2, [r3, #64]
  31:../STM32F4-driver-library/sources/uart_comm.c **** 
  32:../STM32F4-driver-library/sources/uart_comm.c ****     // Enable GPIOA clock for TX and RX pins - RCC_AHB! register, bit 0
  33:../STM32F4-driver-library/sources/uart_comm.c ****     RCC->AHB1ENR |= (SET_BIT << SHIFT_0);
  40              		.loc 1 33 5 is_stmt 1 view .LVU3
  41              		.loc 1 33 18 is_stmt 0 view .LVU4
  42 000a 1A6B     		ldr	r2, [r3, #48]
  43 000c 42F00102 		orr	r2, r2, #1
  44 0010 1A63     		str	r2, [r3, #48]
  34:../STM32F4-driver-library/sources/uart_comm.c **** 
  35:../STM32F4-driver-library/sources/uart_comm.c ****     // Configure the UART pins for alternative functions - GPIOA_MODER register 
  36:../STM32F4-driver-library/sources/uart_comm.c ****     GPIOA->MODER |= (SET_2 << SHIFT_4);   // pin PA2
  45              		.loc 1 36 5 is_stmt 1 view .LVU5
  46              		.loc 1 36 18 is_stmt 0 view .LVU6
  47 0012 A3F56053 		sub	r3, r3, #14336
  48 0016 1A68     		ldr	r2, [r3]
  49 0018 42F02002 		orr	r2, r2, #32
  50 001c 1A60     		str	r2, [r3]
  37:../STM32F4-driver-library/sources/uart_comm.c ****     GPIOA->MODER |= (SET_2 << SHIFT_6);   // pin PA3
  51              		.loc 1 37 5 is_stmt 1 view .LVU7
  52              		.loc 1 37 18 is_stmt 0 view .LVU8
  53 001e 1A68     		ldr	r2, [r3]
  54 0020 42F08002 		orr	r2, r2, #128
  55 0024 1A60     		str	r2, [r3]
  38:../STM32F4-driver-library/sources/uart_comm.c **** 
  39:../STM32F4-driver-library/sources/uart_comm.c ****     // Set output speed of GPIO pins to high speed - GPIOA_OSPEEDR register 
  40:../STM32F4-driver-library/sources/uart_comm.c ****     GPIOA->OSPEEDR |= (SET_3 << SHIFT_4);   // pin PA2
  56              		.loc 1 40 5 is_stmt 1 view .LVU9
  57              		.loc 1 40 20 is_stmt 0 view .LVU10
  58 0026 9A68     		ldr	r2, [r3, #8]
  59 0028 42F03002 		orr	r2, r2, #48
  60 002c 9A60     		str	r2, [r3, #8]
  41:../STM32F4-driver-library/sources/uart_comm.c ****     GPIOA->OSPEEDR |= (SET_3 << SHIFT_6);   // pin PA3
  61              		.loc 1 41 5 is_stmt 1 view .LVU11
  62              		.loc 1 41 20 is_stmt 0 view .LVU12
  63 002e 9A68     		ldr	r2, [r3, #8]
  64 0030 42F0C002 		orr	r2, r2, #192
  65 0034 9A60     		str	r2, [r3, #8]
  42:../STM32F4-driver-library/sources/uart_comm.c **** 
  43:../STM32F4-driver-library/sources/uart_comm.c ****     // Set the alternative function low ([0]) register for USART2 (AF7)
  44:../STM32F4-driver-library/sources/uart_comm.c ****     GPIOA->AFR[0] |= (SET_7 << SHIFT_8);    // pin PA2
  66              		.loc 1 44 5 is_stmt 1 view .LVU13
  67              		.loc 1 44 19 is_stmt 0 view .LVU14
  68 0036 1A6A     		ldr	r2, [r3, #32]
  69 0038 42F4E062 		orr	r2, r2, #1792
  70 003c 1A62     		str	r2, [r3, #32]
  45:../STM32F4-driver-library/sources/uart_comm.c ****     GPIOA->AFR[0] |= (SET_7 << SHIFT_12);   // pin PA3
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 3


  71              		.loc 1 45 5 is_stmt 1 view .LVU15
  72              		.loc 1 45 19 is_stmt 0 view .LVU16
  73 003e 1A6A     		ldr	r2, [r3, #32]
  74 0040 42F4E042 		orr	r2, r2, #28672
  75 0044 1A62     		str	r2, [r3, #32]
  46:../STM32F4-driver-library/sources/uart_comm.c **** 
  47:../STM32F4-driver-library/sources/uart_comm.c ****     // UART Configuration 
  48:../STM32F4-driver-library/sources/uart_comm.c **** 
  49:../STM32F4-driver-library/sources/uart_comm.c ****     // Clear the USART_CR1 register 
  50:../STM32F4-driver-library/sources/uart_comm.c ****     USART2->CR1 = 0x00;  // CLEAR;
  76              		.loc 1 50 5 is_stmt 1 view .LVU17
  77              		.loc 1 50 17 is_stmt 0 view .LVU18
  78 0046 A3F5DE33 		sub	r3, r3, #113664
  79 004a 0022     		movs	r2, #0
  80 004c DA60     		str	r2, [r3, #12]
  51:../STM32F4-driver-library/sources/uart_comm.c **** 
  52:../STM32F4-driver-library/sources/uart_comm.c ****     // Write the UE bit in the USART_CR1 register to 1
  53:../STM32F4-driver-library/sources/uart_comm.c ****     USART2->CR1 |= (SET_BIT << SHIFT_13);
  81              		.loc 1 53 5 is_stmt 1 view .LVU19
  82              		.loc 1 53 17 is_stmt 0 view .LVU20
  83 004e DA68     		ldr	r2, [r3, #12]
  84 0050 42F40052 		orr	r2, r2, #8192
  85 0054 DA60     		str	r2, [r3, #12]
  54:../STM32F4-driver-library/sources/uart_comm.c **** 
  55:../STM32F4-driver-library/sources/uart_comm.c ****     // Program the M bit to define the word length
  56:../STM32F4-driver-library/sources/uart_comm.c ****     USART2->CR1 &= ~(SET_BIT << SHIFT_12);  //  Set to zero for 8 bit word length 
  86              		.loc 1 56 5 is_stmt 1 view .LVU21
  87              		.loc 1 56 17 is_stmt 0 view .LVU22
  88 0056 DA68     		ldr	r2, [r3, #12]
  89 0058 22F48052 		bic	r2, r2, #4096
  90 005c DA60     		str	r2, [r3, #12]
  57:../STM32F4-driver-library/sources/uart_comm.c **** 
  58:../STM32F4-driver-library/sources/uart_comm.c ****     // Set the baud rate 
  59:../STM32F4-driver-library/sources/uart_comm.c ****     USART2->BRR |= (USART_42MHZ_9600_FRAC << SHIFT_0);  // Fractional 
  91              		.loc 1 59 5 is_stmt 1 view .LVU23
  92              		.loc 1 59 17 is_stmt 0 view .LVU24
  93 005e 9A68     		ldr	r2, [r3, #8]
  94 0060 42F00702 		orr	r2, r2, #7
  95 0064 9A60     		str	r2, [r3, #8]
  60:../STM32F4-driver-library/sources/uart_comm.c ****     USART2->BRR |= (USART_42MHZ_9600_MANT << SHIFT_4);  // Mantissa 
  96              		.loc 1 60 5 is_stmt 1 view .LVU25
  97              		.loc 1 60 17 is_stmt 0 view .LVU26
  98 0066 9A68     		ldr	r2, [r3, #8]
  99 0068 42F48852 		orr	r2, r2, #4352
 100 006c 42F01002 		orr	r2, r2, #16
 101 0070 9A60     		str	r2, [r3, #8]
  61:../STM32F4-driver-library/sources/uart_comm.c **** 
  62:../STM32F4-driver-library/sources/uart_comm.c ****     // Enable the TX/RX by setting the TE and RE bits in USART_CR1 register 
  63:../STM32F4-driver-library/sources/uart_comm.c ****     USART2->CR1 |= (SET_BIT << SHIFT_2);  // Set RE
 102              		.loc 1 63 5 is_stmt 1 view .LVU27
 103              		.loc 1 63 17 is_stmt 0 view .LVU28
 104 0072 DA68     		ldr	r2, [r3, #12]
 105 0074 42F00402 		orr	r2, r2, #4
 106 0078 DA60     		str	r2, [r3, #12]
  64:../STM32F4-driver-library/sources/uart_comm.c ****     USART2->CR1 |= (SET_BIT << SHIFT_3);  // Set TE
 107              		.loc 1 64 5 is_stmt 1 view .LVU29
 108              		.loc 1 64 17 is_stmt 0 view .LVU30
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 4


 109 007a DA68     		ldr	r2, [r3, #12]
 110 007c 42F00802 		orr	r2, r2, #8
 111 0080 DA60     		str	r2, [r3, #12]
  65:../STM32F4-driver-library/sources/uart_comm.c **** 
  66:../STM32F4-driver-library/sources/uart_comm.c ****     // Clear buffer 
  67:../STM32F4-driver-library/sources/uart_comm.c **** 
  68:../STM32F4-driver-library/sources/uart_comm.c ****     // Read the Transmission Complete (TC) bit (bit 6) in the status register 
  69:../STM32F4-driver-library/sources/uart_comm.c ****     // (USART_SR) continuously until it is set. If this is not done then some
  70:../STM32F4-driver-library/sources/uart_comm.c ****     // characters can be skipped in transmission on reset. 
  71:../STM32F4-driver-library/sources/uart_comm.c ****     while (!(USART2->SR & (SET_BIT << SHIFT_6)));
 112              		.loc 1 71 5 is_stmt 1 view .LVU31
 113              	.L2:
 114              		.loc 1 71 49 discriminator 1 view .LVU32
 115              		.loc 1 71 11 discriminator 1 view .LVU33
 116              		.loc 1 71 20 is_stmt 0 discriminator 1 view .LVU34
 117 0082 044B     		ldr	r3, .L3+4
 118 0084 1B68     		ldr	r3, [r3]
 119              		.loc 1 71 11 discriminator 1 view .LVU35
 120 0086 13F0400F 		tst	r3, #64
 121 008a FAD0     		beq	.L2
  72:../STM32F4-driver-library/sources/uart_comm.c **** }
 122              		.loc 1 72 1 view .LVU36
 123 008c 7047     		bx	lr
 124              	.L4:
 125 008e 00BF     		.align	2
 126              	.L3:
 127 0090 00380240 		.word	1073887232
 128 0094 00440040 		.word	1073759232
 129              		.cfi_endproc
 130              	.LFE130:
 132              		.section	.text.uart2_sendchar,"ax",%progbits
 133              		.align	1
 134              		.global	uart2_sendchar
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 139              	uart2_sendchar:
 140              	.LVL0:
 141              	.LFB131:
  73:../STM32F4-driver-library/sources/uart_comm.c **** 
  74:../STM32F4-driver-library/sources/uart_comm.c **** 
  75:../STM32F4-driver-library/sources/uart_comm.c **** // UART2 send character to serial terminal 
  76:../STM32F4-driver-library/sources/uart_comm.c **** void uart2_sendchar(uint8_t character)
  77:../STM32F4-driver-library/sources/uart_comm.c **** {
 142              		.loc 1 77 1 is_stmt 1 view -0
 143              		.cfi_startproc
 144              		@ args = 0, pretend = 0, frame = 0
 145              		@ frame_needed = 0, uses_anonymous_args = 0
 146              		@ link register save eliminated.
  78:../STM32F4-driver-library/sources/uart_comm.c ****     // Write the data to the data register (USART_DR). 
  79:../STM32F4-driver-library/sources/uart_comm.c ****     USART2->DR = character;
 147              		.loc 1 79 5 view .LVU38
 148              		.loc 1 79 16 is_stmt 0 view .LVU39
 149 0000 034B     		ldr	r3, .L7
 150 0002 5860     		str	r0, [r3, #4]
  80:../STM32F4-driver-library/sources/uart_comm.c **** 
  81:../STM32F4-driver-library/sources/uart_comm.c ****     // Read the Transmission Complete (TC) bit (bit 6) in the status register 
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 5


  82:../STM32F4-driver-library/sources/uart_comm.c ****     // (USART_SR) continuously until it is set. 
  83:../STM32F4-driver-library/sources/uart_comm.c ****     while (!(USART2->SR & (SET_BIT << SHIFT_6)));
 151              		.loc 1 83 5 is_stmt 1 view .LVU40
 152              	.L6:
 153              		.loc 1 83 49 discriminator 1 view .LVU41
 154              		.loc 1 83 11 discriminator 1 view .LVU42
 155              		.loc 1 83 20 is_stmt 0 discriminator 1 view .LVU43
 156 0004 024B     		ldr	r3, .L7
 157 0006 1B68     		ldr	r3, [r3]
 158              		.loc 1 83 11 discriminator 1 view .LVU44
 159 0008 13F0400F 		tst	r3, #64
 160 000c FAD0     		beq	.L6
  84:../STM32F4-driver-library/sources/uart_comm.c **** }
 161              		.loc 1 84 1 view .LVU45
 162 000e 7047     		bx	lr
 163              	.L8:
 164              		.align	2
 165              	.L7:
 166 0010 00440040 		.word	1073759232
 167              		.cfi_endproc
 168              	.LFE131:
 170              		.section	.text.uart2_sendstring,"ax",%progbits
 171              		.align	1
 172              		.global	uart2_sendstring
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 177              	uart2_sendstring:
 178              	.LVL1:
 179              	.LFB132:
  85:../STM32F4-driver-library/sources/uart_comm.c **** 
  86:../STM32F4-driver-library/sources/uart_comm.c **** 
  87:../STM32F4-driver-library/sources/uart_comm.c **** // UART2 send string to serial terminal
  88:../STM32F4-driver-library/sources/uart_comm.c **** void uart2_sendstring(char *string)
  89:../STM32F4-driver-library/sources/uart_comm.c **** {
 180              		.loc 1 89 1 is_stmt 1 view -0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 0
 183              		@ frame_needed = 0, uses_anonymous_args = 0
 184              		.loc 1 89 1 is_stmt 0 view .LVU47
 185 0000 10B5     		push	{r4, lr}
 186              	.LCFI0:
 187              		.cfi_def_cfa_offset 8
 188              		.cfi_offset 4, -8
 189              		.cfi_offset 14, -4
 190 0002 0446     		mov	r4, r0
  90:../STM32F4-driver-library/sources/uart_comm.c ****     // Loop until null character of string is reached. 
  91:../STM32F4-driver-library/sources/uart_comm.c ****     while (*string)
 191              		.loc 1 91 5 is_stmt 1 view .LVU48
 192              		.loc 1 91 11 is_stmt 0 view .LVU49
 193 0004 02E0     		b	.L10
 194              	.LVL2:
 195              	.L11:
  92:../STM32F4-driver-library/sources/uart_comm.c ****     {
  93:../STM32F4-driver-library/sources/uart_comm.c ****         // Send characters one at a time. 
  94:../STM32F4-driver-library/sources/uart_comm.c ****         uart2_sendchar(*string);
 196              		.loc 1 94 9 is_stmt 1 view .LVU50
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 6


 197 0006 FFF7FEFF 		bl	uart2_sendchar
 198              	.LVL3:
  95:../STM32F4-driver-library/sources/uart_comm.c **** 
  96:../STM32F4-driver-library/sources/uart_comm.c ****         // Increment to next character. 
  97:../STM32F4-driver-library/sources/uart_comm.c ****         string++;
 199              		.loc 1 97 9 view .LVU51
 200              		.loc 1 97 15 is_stmt 0 view .LVU52
 201 000a 0134     		adds	r4, r4, #1
 202              	.LVL4:
 203              	.L10:
  91:../STM32F4-driver-library/sources/uart_comm.c ****     {
 204              		.loc 1 91 11 is_stmt 1 view .LVU53
  91:../STM32F4-driver-library/sources/uart_comm.c ****     {
 205              		.loc 1 91 12 is_stmt 0 view .LVU54
 206 000c 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
  91:../STM32F4-driver-library/sources/uart_comm.c ****     {
 207              		.loc 1 91 11 view .LVU55
 208 000e 0028     		cmp	r0, #0
 209 0010 F9D1     		bne	.L11
  98:../STM32F4-driver-library/sources/uart_comm.c ****     }
  99:../STM32F4-driver-library/sources/uart_comm.c **** }
 210              		.loc 1 99 1 view .LVU56
 211 0012 10BD     		pop	{r4, pc}
 212              		.loc 1 99 1 view .LVU57
 213              		.cfi_endproc
 214              	.LFE132:
 216              		.section	.text.uart2_getchar,"ax",%progbits
 217              		.align	1
 218              		.global	uart2_getchar
 219              		.syntax unified
 220              		.thumb
 221              		.thumb_func
 223              	uart2_getchar:
 224              	.LFB133:
 100:../STM32F4-driver-library/sources/uart_comm.c **** 
 101:../STM32F4-driver-library/sources/uart_comm.c **** 
 102:../STM32F4-driver-library/sources/uart_comm.c **** // UART2 get character from serial terminal 
 103:../STM32F4-driver-library/sources/uart_comm.c **** uint8_t uart2_getchar(void)
 104:../STM32F4-driver-library/sources/uart_comm.c **** {
 225              		.loc 1 104 1 is_stmt 1 view -0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 0
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 229              		@ link register save eliminated.
 105:../STM32F4-driver-library/sources/uart_comm.c ****     // Store the character input from the data register
 106:../STM32F4-driver-library/sources/uart_comm.c ****     static uint8_t input = 0;
 230              		.loc 1 106 5 view .LVU59
 107:../STM32F4-driver-library/sources/uart_comm.c **** 
 108:../STM32F4-driver-library/sources/uart_comm.c ****     // Read data from data register 
 109:../STM32F4-driver-library/sources/uart_comm.c ****     input = USART2->DR;
 231              		.loc 1 109 5 view .LVU60
 232              		.loc 1 109 19 is_stmt 0 view .LVU61
 233 0000 024B     		ldr	r3, .L14
 234 0002 5868     		ldr	r0, [r3, #4]
 235              		.loc 1 109 11 view .LVU62
 236 0004 C0B2     		uxtb	r0, r0
 237 0006 024B     		ldr	r3, .L14+4
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 7


 238 0008 1870     		strb	r0, [r3]
 110:../STM32F4-driver-library/sources/uart_comm.c **** 
 111:../STM32F4-driver-library/sources/uart_comm.c ****     return input;
 239              		.loc 1 111 5 is_stmt 1 view .LVU63
 112:../STM32F4-driver-library/sources/uart_comm.c **** }
 240              		.loc 1 112 1 is_stmt 0 view .LVU64
 241 000a 7047     		bx	lr
 242              	.L15:
 243              		.align	2
 244              	.L14:
 245 000c 00440040 		.word	1073759232
 246 0010 00000000 		.word	.LANCHOR0
 247              		.cfi_endproc
 248              	.LFE133:
 250              		.section	.text.uart2_getstr,"ax",%progbits
 251              		.align	1
 252              		.global	uart2_getstr
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 257              	uart2_getstr:
 258              	.LVL5:
 259              	.LFB134:
 113:../STM32F4-driver-library/sources/uart_comm.c **** 
 114:../STM32F4-driver-library/sources/uart_comm.c **** 
 115:../STM32F4-driver-library/sources/uart_comm.c **** // UART2 get string from serial terminal
 116:../STM32F4-driver-library/sources/uart_comm.c **** void uart2_getstr(char *string_to_fill)
 117:../STM32F4-driver-library/sources/uart_comm.c **** {
 260              		.loc 1 117 1 is_stmt 1 view -0
 261              		.cfi_startproc
 262              		@ args = 0, pretend = 0, frame = 0
 263              		@ frame_needed = 0, uses_anonymous_args = 0
 264              		.loc 1 117 1 is_stmt 0 view .LVU66
 265 0000 10B5     		push	{r4, lr}
 266              	.LCFI1:
 267              		.cfi_def_cfa_offset 8
 268              		.cfi_offset 4, -8
 269              		.cfi_offset 14, -4
 270 0002 0446     		mov	r4, r0
 271 0004 03E0     		b	.L18
 272              	.LVL6:
 273              	.L17:
 118:../STM32F4-driver-library/sources/uart_comm.c ****     // Store the character input from uart2_getchar()
 119:../STM32F4-driver-library/sources/uart_comm.c ****     static uint8_t input = 0;
 120:../STM32F4-driver-library/sources/uart_comm.c **** 
 121:../STM32F4-driver-library/sources/uart_comm.c ****     // Run until a carriage return is seen
 122:../STM32F4-driver-library/sources/uart_comm.c ****     do
 123:../STM32F4-driver-library/sources/uart_comm.c ****     {
 124:../STM32F4-driver-library/sources/uart_comm.c ****         // Wait for data to be available
 125:../STM32F4-driver-library/sources/uart_comm.c ****         if (USART2->SR & (SET_BIT << SHIFT_5))
 126:../STM32F4-driver-library/sources/uart_comm.c ****         {
 127:../STM32F4-driver-library/sources/uart_comm.c ****             input = uart2_getchar();
 128:../STM32F4-driver-library/sources/uart_comm.c **** 
 129:../STM32F4-driver-library/sources/uart_comm.c ****             // Record character and increment to the next space in memeory
 130:../STM32F4-driver-library/sources/uart_comm.c ****             *string_to_fill = input;
 131:../STM32F4-driver-library/sources/uart_comm.c ****             string_to_fill++;
 132:../STM32F4-driver-library/sources/uart_comm.c ****         }
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 8


 133:../STM32F4-driver-library/sources/uart_comm.c ****     } 
 134:../STM32F4-driver-library/sources/uart_comm.c ****     while(input != UART_CARRIAGE);
 274              		.loc 1 134 10 is_stmt 1 view .LVU67
 275              		.loc 1 134 17 is_stmt 0 view .LVU68
 276 0006 094B     		ldr	r3, .L21
 277 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 278              		.loc 1 134 5 view .LVU69
 279 000a 0D2B     		cmp	r3, #13
 280 000c 0BD0     		beq	.L20
 281              	.L18:
 119:../STM32F4-driver-library/sources/uart_comm.c **** 
 282              		.loc 1 119 5 is_stmt 1 view .LVU70
 122:../STM32F4-driver-library/sources/uart_comm.c ****     {
 283              		.loc 1 122 5 view .LVU71
 125:../STM32F4-driver-library/sources/uart_comm.c ****         {
 284              		.loc 1 125 9 view .LVU72
 125:../STM32F4-driver-library/sources/uart_comm.c ****         {
 285              		.loc 1 125 19 is_stmt 0 view .LVU73
 286 000e 084B     		ldr	r3, .L21+4
 287 0010 1B68     		ldr	r3, [r3]
 125:../STM32F4-driver-library/sources/uart_comm.c ****         {
 288              		.loc 1 125 12 view .LVU74
 289 0012 13F0200F 		tst	r3, #32
 290 0016 F6D0     		beq	.L17
 127:../STM32F4-driver-library/sources/uart_comm.c **** 
 291              		.loc 1 127 13 is_stmt 1 view .LVU75
 127:../STM32F4-driver-library/sources/uart_comm.c **** 
 292              		.loc 1 127 21 is_stmt 0 view .LVU76
 293 0018 FFF7FEFF 		bl	uart2_getchar
 294              	.LVL7:
 127:../STM32F4-driver-library/sources/uart_comm.c **** 
 295              		.loc 1 127 19 view .LVU77
 296 001c 034B     		ldr	r3, .L21
 297 001e 1870     		strb	r0, [r3]
 130:../STM32F4-driver-library/sources/uart_comm.c ****             string_to_fill++;
 298              		.loc 1 130 13 is_stmt 1 view .LVU78
 130:../STM32F4-driver-library/sources/uart_comm.c ****             string_to_fill++;
 299              		.loc 1 130 29 is_stmt 0 view .LVU79
 300 0020 04F8010B 		strb	r0, [r4], #1
 301              	.LVL8:
 131:../STM32F4-driver-library/sources/uart_comm.c ****         }
 302              		.loc 1 131 13 is_stmt 1 view .LVU80
 131:../STM32F4-driver-library/sources/uart_comm.c ****         }
 303              		.loc 1 131 13 is_stmt 0 view .LVU81
 304 0024 EFE7     		b	.L17
 305              	.L20:
 135:../STM32F4-driver-library/sources/uart_comm.c **** 
 136:../STM32F4-driver-library/sources/uart_comm.c ****     // Add a null character to the end if the string 
 137:../STM32F4-driver-library/sources/uart_comm.c ****     *string_to_fill = UART_NULL;
 306              		.loc 1 137 5 is_stmt 1 view .LVU82
 307              		.loc 1 137 21 is_stmt 0 view .LVU83
 308 0026 0023     		movs	r3, #0
 309 0028 2370     		strb	r3, [r4]
 138:../STM32F4-driver-library/sources/uart_comm.c **** }
 310              		.loc 1 138 1 view .LVU84
 311 002a 10BD     		pop	{r4, pc}
 312              	.LVL9:
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 9


 313              	.L22:
 314              		.loc 1 138 1 view .LVU85
 315              		.align	2
 316              	.L21:
 317 002c 00000000 		.word	.LANCHOR1
 318 0030 00440040 		.word	1073759232
 319              		.cfi_endproc
 320              	.LFE134:
 322              		.section	.bss.input.0,"aw",%nobits
 323              		.set	.LANCHOR1,. + 0
 326              	input.0:
 327 0000 00       		.space	1
 328              		.section	.bss.input.1,"aw",%nobits
 329              		.set	.LANCHOR0,. + 0
 332              	input.1:
 333 0000 00       		.space	1
 334              		.text
 335              	.Letext0:
 336              		.file 2 "c:\\dev_tools\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-
 337              		.file 3 "c:\\dev_tools\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-
 338              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 339              		.file 5 "../STM32F4-driver-library/headers/tools.h"
 340              		.file 6 "../STM32F4-driver-library/headers/uart_comm.h"
ARM GAS  C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s 			page 10


DEFINED SYMBOLS
                            *ABS*:00000000 uart_comm.c
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:20     .text.uart2_init:00000000 $t
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:26     .text.uart2_init:00000000 uart2_init
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:127    .text.uart2_init:00000090 $d
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:133    .text.uart2_sendchar:00000000 $t
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:139    .text.uart2_sendchar:00000000 uart2_sendchar
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:166    .text.uart2_sendchar:00000010 $d
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:171    .text.uart2_sendstring:00000000 $t
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:177    .text.uart2_sendstring:00000000 uart2_sendstring
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:217    .text.uart2_getchar:00000000 $t
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:223    .text.uart2_getchar:00000000 uart2_getchar
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:245    .text.uart2_getchar:0000000c $d
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:251    .text.uart2_getstr:00000000 $t
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:257    .text.uart2_getstr:00000000 uart2_getstr
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:317    .text.uart2_getstr:0000002c $d
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:326    .bss.input.0:00000000 input.0
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:327    .bss.input.0:00000000 $d
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:332    .bss.input.1:00000000 input.1
C:\Users\samue\AppData\Local\Temp\ccMRuB0e.s:333    .bss.input.1:00000000 $d

NO UNDEFINED SYMBOLS
